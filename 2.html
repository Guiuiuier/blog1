<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312"charset="UTF-8">
<title>RunJS</title>
<script type="text/javascript" src="js/jquery.min.js"></script>

<script>
	var n = 3;
 var content=document.getElementsByClassName("box");
 console.log(content);
	onload = function() {
		var boxs = document.querySelectorAll(".box");
		for (var k = 0; k < boxs.length; k++) {
			var box = boxs[k];
			var ps = box.querySelectorAll("p");
			var btn = box.querySelector("button");
			if (ps.length < n) {
				btn.style.display = "none";
				continue;
			}
			for (var i = n; i < ps.length; i++) { 
				ps[i].style.display = "none";
			}
	(function(ps){
	btn.onclick = function() {
				for (var i = n; i < ps.length; i++) {
					ps[i].style.display = "block";
				}
				this.style.display = "none";
			}
			})(ps);
		}
	}
</script>
</head>
<body>
<div class="box">
<p>我是内容1</p>
<p>我是内容2</p>
<p>我是内容3</p>
<p>我是内容4</p>
<p>我是内容5</p>
<p>我是内容6</p>
<button>点击显示全部</button>
</div>
<div class="box">
<p>我是内容1</p>
<p>我是内容2</p>
<p>我是内容3</p>
<p>我是内容4</p>
<p>我是内容5</p>
<p>我是内容6</p>
<button>点击显示全部</button>
</div>
<!-- <div class="box">
<p>我是内容1</p>
<p>我是内容2</p>
<p>我是内容3</p>
<p>我是内容4</p>
<p>我是内容5</p>
<p>我是内容6</p>
<button>点击显示全部</button>
</div> -->
</body>
</html>